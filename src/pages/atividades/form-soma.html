<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="/src/css/style.css">

    <title>Soma</title>
</head>

<body>
    <style>
        body {
            background-color: bisque;
        }
    </style>
    <div class="row" style="background-color: bisque;">
        <div class="col-4">
            <div class="list-group" id="list-tab" role="tablist" style="background-color: bisque;">
                <a class="list-group-item list-group-item-action active" id="list-home-list" data-bs-toggle="list"
                    href="#list-1" role="tab" aria-controls="list-home">Teste</a>
                <a class="list-group-item list-group-item-action" id="list-profile-list" data-bs-toggle="list"
                    href="#list-2" role="tab" aria-controls="list-profile">Verifica idade</a>
                <a class="list-group-item list-group-item-action" id="list-messages-list" data-bs-toggle="list"
                    href="#list-3" role="tab" aria-controls="list-messages">Comparando numeros</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-4" role="tab" aria-controls="list-settings">Verificando divisibilidade</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-5" role="tab" aria-controls="list-settings">Verificando clima</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-6" role="tab" aria-controls="list-settings">Calculando fatorial</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-7" role="tab" aria-controls="list-settings">Calculando tabuada</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-8" role="tab" aria-controls="list-settings">Contagem Regressiva</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" data-bs-toggle="list"
                    href="#list-9" role="tab" aria-controls="list-settings">Boletim</a>
                <a class="list-group-item list-group-item-action" id="list-settings-list" href="/index.html">Voltar</a>
            </div>
        </div>
        <div class="col-8">
            <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="list-1" role="tabpanel" aria-labelledby="list-home-list">
                    <div>
                        <h2>Entendendo os inputs</h2>
                        <input type="text" id="nome" class="form-control" style="max-width: 200px;"
                            placeholder="Digite seu nome:">
                        <button onclick="salvar()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="result"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-2" role="tabpanel" aria-labelledby="list-profile-list">
                    <div>
                        <h2>Verificar idade</h2>
                        <input type="number" id="idade" class="form-control" style="max-width: 200px;"
                            placeholder="digite uma idade:">
                        <button onclick="verIdade()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resultIdade"></P>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-3" role="tabpanel" aria-labelledby="list-messages-list">
                    <div>
                        <h2>Comparando números</h2>
                        <input type="number" id="num1" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <input type="number" id="num2" class="form-control" style="max-width: 200px;"
                            placeholder="digite outro numero:">
                        <button onclick="compNum()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resultcomN"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-4" role="tabpanel" aria-labelledby="list-settings-list">
                    <div>
                        <h2>Verificando divisibilidade</h2>
                        <input type="number" id="num3" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <input type="number" id="num4" class="form-control" style="max-width: 200px;"
                            placeholder="digite outro numero:">
                        <button onclick="comparar()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resultVer"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-5" role="tabpanel" aria-labelledby="list-settings-list">
                    <div>
                        <h2>Verificar Temperatura</h2>
                        <input type="number" id="temp" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <button onclick="verTemp()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resulClima"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-6" role="tabpanel" aria-labelledby="list-settings-list">
                    <div>
                        <h2>Calculando fatorial</h2>
                        <input type="number" id="fat" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <button onclick="calcuFat()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resulFat"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-7" role="tabpanel" aria-labelledby="list-settings-list">
                    <div>
                        <h2>Calculando uma tabuada</h2>
                        <input type="number" id="numTab" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <button onclick="calcTab()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resulTab"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-8" role="tabpanel" aria-labelledby="list-settings-list">
                    <div>
                        <h2>Contagem Regressiva</h2>
                        <input type="number" id="contNum" class="form-control" style="max-width: 200px;"
                            placeholder="digite um numero:">
                        <button onclick="contagem()" class="btn btn-dark" style="margin-top: 10px;">salvar</button>
                        <p id="resulCont"></p>
                    </div>
                </div>
                <div class="tab-pane fade" id="list-9" role="tabpanel" aria-labelledby="list-settings-list">
                    <div class="row">
                        <div class="col-4" style="align-content: center;">

                            <div class="row-cols-4" id="materia1">
                                <div class="col">
                                    <label for="nomeUsuario">Aluno</label>
                                    <input type="text" id="nomeUsuario" class="form-control" style="max-width: 200px;">
                                </div>
                                <div class="col">
                                    <label for="nomeInstituicao">Escola/Instituicao</label>
                                    <input type="text" id="nomeInstituicao" class="form-control"
                                        style="max-width: 200px;">
                                </div>
                                <div class="col">
                                    <label for="nomeCurso">Curso</label>
                                    <input type="text" id="nomeCurso" class="form-control" style="max-width: 200px;">
                                </div>
                                <div class="col-2 ">
                                    <label for="nomeMateria">Matéria</label>
                                    <select name="" id="nomeMaterias"></select>
                                    <p id="materiaRepetida"></p>
                                </div>
                                <p id="alerta"></p>
                                <div class="col-2 p-md-4 input-group">
                                    <input id="b1" type="number" class="form-control" style="max-width: 200px;">
                                    <input id="b2" type="number" class="form-control" style="max-width: 200px;">
                                    <input id="b3" type="number" class="form-control" style="max-width: 200px;">
                                    <input id="b4" type="number" class="form-control" style="max-width: 200px;">
                                </div>
                            </div>
                            <button onclick="save()" class="btn btn-dark" style="margin-top: 10px;">Verificar
                                Notas</button>
                            <p class="m-3 p-2" id="resultNotas"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function vazio(txt1, txt2) {
            if (document.getElementById(txt1).value === '') {
                document.getElementById(txt2).innerText = "Digite um número"
                return true
            } else {
                document.getElementById(txt2).innerText = " "
                return false
            }
        }

        function salvar() {
            if (!vazio('nome', 'result')) {
                let nome = document.getElementById('nome').value;

                document.getElementById('result').innerText = "Olá " + nome + " nesta lista de testes vacê entenderá como funciona os inputs";
            }
        }

        function verIdade() {
            if (!vazio('idade', 'resultIdade')) {
                let idade = document.getElementById('idade').value;
                if (idade < 60 && idade >= 18) {
                    document.getElementById('resultIdade').innerText = "Você é adulto";
                } else if (idade < 18) {
                    document.getElementById('resultIdade').innerText = "Você é menor de idade";
                } else {
                    document.getElementById('resultIdade').innerText = "Você é idoso";
                }
            }
        }

        function compNum() {
            if (!vazio('num1', 'resultcomN') && !vazio('num2', 'resultcomN')) {
                let num1 = parseFloat(document.getElementById('num1').value)
                let num2 = parseFloat(document.getElementById('num2').value)
                if (num1 > num2) {
                    document.getElementById('resultcomN').innerText = num1 + " é o maior";
                } else if (num1 === num2) {
                    document.getElementById('resultcomN').innerText = "Os numeros são iguais";
                } else {
                    document.getElementById('resultcomN').innerText = num2 + " é o maior";
                }
            }
        }

        function comparar() {
            if (!vazio('num3', 'resultVer') && !vazio('num4', 'resultVer')) {
                let num1 = document.getElementById('num3').value;
                let num2 = document.getElementById('num4').value;
                if (num1 % num2 == 0) {
                    document.getElementById('resultVer').innerText = "O primeiro valor é divisivel pelo segundo";

                } else {
                    document.getElementById('resultVer').innerText = "Eles não são divisiveis";
                }
            }
        }

        function verTemp() {
            if (!vazio('temp', 'resulClima')) {
                let temp = document.getElementById('temp').value;
                if (temp <= 26 && temp >= 18) {
                    document.getElementById('resulClima').innerText = "O clima está agradável";
                } else if (temp < 18) {
                    document.getElementById('resulClima').innerText = "O clima está frio";
                } else {
                    document.getElementById('resulClima').innerText = "O clima está quente";
                }
            }
        }

        function calcFat() {
            if (!vazio('fat', 'resulFat')) {
                let fat = document.getElementById('fat').value;
                let result = fat
                for (let i = 1; i < fat; i++) {
                    result = result * i

                }
                document.getElementById('resulFat').innerText = result;
            }
        }

        function calcTab() {
            if (!vazio('numTab', 'resulTab')) {
                let numTab = document.getElementById('numTab').value;
                for (let i = 1; i <= 10; i++) {
                    document.getElementById('resulTab').innerHTML += numTab + "x" + i + "=" + numTab * i + '<br>';
                }
            }
        }

        function contagem() {
            if (!vazio('contNum', 'resulCont')) {
                let contNum = document.getElementById('contNum').value;
                for (let i = contNum; i >= 0; i--) {
                    document.getElementById('resulCont').innerHTML += i + "<br>"
                }
            }
        }




        let nomeMaterias = ["Português", "Matemática", "Biologia", "Inglês", "Geografia", "História"]
        let select = document.getElementById("nomeMaterias")
        nomeMaterias.forEach(function (materia) {
            let option = document.createElement("option");
            option.value = materia;
            option.text = materia;
            select.appendChild(option)
        })
        let materia = { id: 0, nome: "", notas: [], total: 0, printInfo: "" };
        let materias = [];
        let user = { nome: "", instituicao: "", curso: "" };

        function validateInputFields() {
            const nomeUsuarioValue = nomeUsuario.value.trim();
            const nomeInstituicaoValue = nomeInstituicao.value.trim();
            const nomeCursoValue = nomeCurso.value.trim();

            if (!nomeUsuarioValue || !nomeInstituicaoValue || !nomeCursoValue) {
                alert("Por favor, preencha todos os campos.");
                return false;
            }

            return true;
        }
        function save() {
            // Validar entrada do usuário
            if (!validateInputFields()) {
                return;  // Se a validação falhar, retorne
            }

            let inputNotas = [];
            let totalNotas = 0;

            function valorValido(valor) {
                return !isNaN(valor) && isFinite(valor)
            }

            function msgVC(limite){
                if(limite===20){
                    document.getElementById("alerta").innerHTML = "Insira uma nota positiva para o primeiro bimestre até 20 "
                }else if(limite===25){
                    document.getElementById("alerta").innerHTML = "Insira uma nota positiva para o segundo/terceiro bimestre até 25 "
                }else if (limite===30){
                    document.getElementById("alerta").innerHTML = "Insira uma nota positiva para o quarto bimestre até 30 "
                }
            }


            function validaCampo(valor, limite) {
                if (valorValido(valor) && valor <= limite && valor >= 0) {
                    inputNotas.push(valor)
                } else {
                    msgVC(limite)
                }
            }

            validaCampo(parseFloat(document.getElementById("b1").value), 20)
            validaCampo(parseFloat(document.getElementById("b2").value), 25)
            validaCampo(parseFloat(document.getElementById("b3").value), 25)
            validaCampo(parseFloat(document.getElementById("b4").value), 30)

            if (inputNotas.length < 4) {

            } else {
                document.getElementById("alerta").innerHTML = ""
                user.nome = nomeUsuario.value;
                user.instituicao = nomeInstituicao.value;
                user.curso = nomeCurso.value;
                let resultados = `<b>BOLETIM DE: ${user.nome.toLocaleUpperCase()}</b><br><b>INSTITUIÇÃO/ESCOLA: 
                ${user.instituicao.toLocaleUpperCase()}</b><br><b>CURSO: ${user.curso.toLocaleUpperCase()}</b>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th></th>
                        <th scope"col">Primeiro Bimestre</th>
                        <th scope"col">Segundo Bimestre</th>
                        <th scope"col">Terceiro Bimestre</th>
                        <th scope"col">Quarto Bimestre</th>
                        <th scope"col">Nota Final</th>
                        <th scope"col">Situação</th>
                        </tr>
                        </thead>
                        <tbody>`

                    ;

                inputNotas.forEach(e => {
                    totalNotas += e
                })

                function isAprovadoOuReprovado(valor) {
                    if (valor >= 60) {
                        return "APROVADO"
                    } else {
                        return "REPROVADO"
                    }
                }

                if (repetir(document.getElementById("nomeMaterias").value)) {
                    document.getElementById("materiaRepetida").innerHTML = "Matéria já adicionada"
                } else {

                    document.getElementById("materiaRepetida").innerHTML = ""

                    const nomeMateria = document.getElementById("nomeMaterias").value
                    materias.push(
                        {
                            id: materia.id++,
                            nome: nomeMateria,
                            notas: inputNotas,
                            total: totalNotas,
                            info: `
                           
                            <tr>
                              <td scope"row"> ${nomeMateria}</td>  
                                <td > ${inputNotas[0]}</td>
                                <td > ${inputNotas[1]}</td>
                                <td > ${inputNotas[2]}</td>
                                <td > ${inputNotas[3]}</td>
                                <td > ${totalNotas}</b></td>
                                <td > ${isAprovadoOuReprovado(totalNotas)}</td>
                            </tr>
                            `
                        }
                    )

                    console.log(materias)

                    materias.forEach(e => {
                        resultados += `<br>` + e.info;
                    })

                    resultNotas.innerHTML = resultados;
                }
            }


            function repetir(nomeMateria) {

                return materias.some(materia => materia.nome === nomeMateria)
            }

        }





    </script>

    <footer id="boletim" class="container-grs content center">
        <p class="center opacity wide">By Gabriel Ribeiro</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</body>

</html>